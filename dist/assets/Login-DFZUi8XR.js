import{r as v}from"./request-Hp9FWL9u.js";import{v as V,x as b,u as w,a as y,b as n,d as o,w as r,r as l,g as k,E as p,o as z}from"./index-D41mdhcm.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const U={class:"login-container"},h={class:"login-box"},E={style:{"margin-top":"20px"}},M={__name:"Login",setup(q){const t=V({form:{role:"ADMIN"},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),m=b(),f=w(),_=()=>{m.value.validate(i=>{i&&v.post("/login",t.form).then(e=>{e.code==="200"?(f.setUser(e.data),p.success("登录成功"),setTimeout(()=>{location.href="/manager/home"},500)):p.error(e.msg)})})};return(i,e)=>{const u=l("el-input"),a=l("el-form-item"),d=l("el-option"),c=l("el-select"),g=l("el-button"),x=l("el-form");return z(),y("div",U,[n("div",h,[e[4]||(e[4]=n("div",{style:{"margin-top":"40px","margin-bottom":"30px","text-align":"center","font-size":"23px","font-weight":"bold",color:"#0742b1"}},"欢迎登录编务通",-1)),o(x,{ref_key:"formRef",ref:m,rules:t.rules,model:t.form},{default:r(()=>[o(a,{prop:"username"},{default:r(()=>[o(u,{size:"large",modelValue:t.form.username,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.username=s),autocomplete:"off",placeholder:"请输入账号","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),o(a,{prop:"password"},{default:r(()=>[o(u,{"show-password":"",size:"large",modelValue:t.form.password,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.password=s),autocomplete:"off",placeholder:"请输入密码","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),o(a,{prop:"role"},{default:r(()=>[o(c,{modelValue:t.form.role,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.role=s),style:{width:"100%"},size:"large"},{default:r(()=>[o(d,{label:"管理员",value:"ADMIN"}),o(d,{label:"员工",value:"EMP"})]),_:1},8,["modelValue"])]),_:1}),n("div",E,[o(g,{size:"large",style:{width:"100%"},type:"primary",onClick:_},{default:r(()=>e[3]||(e[3]=[k("登 录",-1)])),_:1,__:[3]})])]),_:1},8,["rules","model"])])])}}},A=N(M,[["__scopeId","data-v-ec1e82e8"]]);export{A as default};
