import{r as c}from"./request-Hp9FWL9u.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{v as x,x as V,a as v,b as a,d as r,w as s,r as m,g as p,E as f,o as b}from"./index-D41mdhcm.js";const y={class:"login-container"},z={class:"login-box"},P={style:{"margin-top":"20px"}},E={__name:"Register",setup(k){const o=x({form:{},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"}],no:[{required:!0,message:"请输入工号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{validator:(l,e)=>{l?l!==o.form.password?e(new Error("两次输入密码不一致")):e():e(new Error("请再次确认密码"))},trigger:"blur"}]}}),d=V(),u=()=>{d.value.validate(l=>{l&&c.post("/register",o.form).then(e=>{e.code==="200"?(f.success("注册成功"),setTimeout(()=>{location.href="/login"},500)):f.error(e.msg)})})};return(l,e)=>{const n=m("el-input"),i=m("el-form-item"),g=m("el-button"),_=m("el-form");return b(),v("div",y,[a("div",z,[e[6]||(e[6]=a("div",{style:{"margin-top":"30px","margin-bottom":"25px","text-align":"center","font-size":"23px","font-weight":"bold",color:"#0742b1"}},"欢 迎 注 册",-1)),r(_,{ref_key:"formRef",ref:d,rules:o.rules,model:o.form},{default:s(()=>[r(i,{prop:"username"},{default:s(()=>[r(n,{size:"large",modelValue:o.form.username,"onUpdate:modelValue":e[0]||(e[0]=t=>o.form.username=t),autocomplete:"off",placeholder:"请输入账号","prefix-icon":"user"},null,8,["modelValue"])]),_:1}),r(i,{prop:"no"},{default:s(()=>[r(n,{size:"large",modelValue:o.form.no,"onUpdate:modelValue":e[1]||(e[1]=t=>o.form.no=t),autocomplete:"off",placeholder:"请输入工号","prefix-icon":"Notification"},null,8,["modelValue"])]),_:1}),r(i,{prop:"password"},{default:s(()=>[r(n,{"show-password":"",size:"large",modelValue:o.form.password,"onUpdate:modelValue":e[2]||(e[2]=t=>o.form.password=t),placeholder:"请输入密码","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),r(i,{prop:"confirmPassword"},{default:s(()=>[r(n,{"show-password":"",size:"large",modelValue:o.form.confirmPassword,"onUpdate:modelValue":e[3]||(e[3]=t=>o.form.confirmPassword=t),placeholder:"请确认密码","prefix-icon":"lock"},null,8,["modelValue"])]),_:1}),a("div",P,[r(g,{size:"large",style:{width:"100%"},type:"primary",onClick:u},{default:s(()=>e[4]||(e[4]=[p("注 册",-1)])),_:1,__:[4]})]),e[5]||(e[5]=a("div",{style:{"margin-top":"5px","text-align":"right"}},[p("已有账号？请前往"),a("a",{style:{color:"#0742b1","text-decoration":"none"},href:"/login"},"登录")],-1))]),_:1,__:[5]},8,["rules","model"])])])}}},h=w(E,[["__scopeId","data-v-5a83a245"]]);export{h as default};
